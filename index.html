<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>App para Estudiar Ingl√©s</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <script src="https://code.responsivevoice.org/responsivevoice.js?key=IKB07BaE"></script>
</head>
<body>
    <div id="app-container">
        <!-- Vista Principal: Men√∫ de Categor√≠as -->
        <header id="main-header">
            <h1>Elige una Categor√≠a</h1>
            <div class="header-extras">
                <button id="theme-toggle-btn" class="extra-btn" title="Cambiar tema">üåô</button>
                <button id="explorer-btn" class="extra-btn" title="Explorador de Vocabulario">üîç</button> <!-- Bot√≥n A√±adido -->
                <button id="quick-review-btn" class="extra-btn">Repaso R√°pido</button>
                <button id="random-mode-btn" class="extra-btn">Modo Aleatorio Global</button>
            </div>
        </header>
        <main id="main-menu" class="view active">
            <!-- Las categor√≠as se generar√°n aqu√≠ -->
        </main>

        <!-- Vista de M√≥dulos por Categor√≠a -->
        <section id="module-menu" class="view">
            <button class="back-btn" onclick="showView('main-menu')">‚Üê Volver a Categor√≠as</button>
            <h2 id="category-title"></h2>
            <div class="progress-bar-container">
                <div id="category-progress-bar"></div>
            </div>
            <div id="module-list">
                <!-- Los m√≥dulos se generar√°n aqu√≠ -->
            </div>
        </section>

        <!-- Vista de Aprendizaje del M√≥dulo -->
        <section id="module-view" class="view">
            <button class="back-btn" id="back-to-modules-btn">‚Üê Volver a M√≥dulos</button>
            <h2 id="module-title"></h2>
            <div id="module-content">
                <!-- El contenido del m√≥dulo (aprender, ejercicios) se generar√° aqu√≠ -->
            </div>
        </section>

        <!-- NUEVA VISTA: Explorador de Vocabulario -->
        <section id="vocabulary-explorer-view" class="view">
            <button class="back-btn" onclick="showView('main-menu')">‚Üê Volver al Men√∫</button>
            <h2>Explorador de Vocabulario</h2>
            <div class="card p-4 mb-4">
                <h3 class="mb-3">Paso 1: Expansi√≥n de la Palabra Ra√≠z</h3>
                <div class="input-group mb-3">
                    <input type="text" id="word-input" class="form-control" placeholder="Escribe una palabra en ingl√©s (ej: run, happy)">
                    <button id="search-word-btn" class="btn btn-primary">Buscar</button>
                </div>
                <div id="word-expansion-results" class="mt-3"></div>
            </div>
            <div id="step-2-3-container" class="card p-4 mb-4 d-none">
                <h3 class="mb-3">Pasos 2 & 3: Crea Contexto y Explica</h3>
                <div id="context-creation-area"></div>
                <button id="save-card-btn" class="btn btn-success mt-3">Guardar Tarjeta de Repaso</button>
            </div>
            <div class="text-center mb-4">
                 <h3 class="mb-3">Paso 4: Repaso Micro-Inmersivo</h3>
                 <button id="review-cards-btn" class="btn btn-info">Ver mis tarjetas guardadas</button>
            </div>
            <div id="review-area" class="d-none"></div>
        </section>

        <!-- Modal para Tests -->
        <div id="test-modal" class="modal">
            <div class="modal-content">
                <span class="close-btn">&times;</span>
                <h2 id="test-title"></h2>
                <div id="test-question-container"></div>
                <div id="test-controls">
                    <button id="test-submit-btn">Evaluar</button>
                </div>
                <div id="test-result"></div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>